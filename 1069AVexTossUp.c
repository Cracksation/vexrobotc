#pragma config(Sensor, in1,    programSelect,  sensorPotentiometer)
#pragma config(Sensor, dgtl1,  rightBack,      sensorQuadEncoder)
#pragma config(Sensor, dgtl3,  leftBack,       sensorQuadEncoder)
#pragma config(Sensor, dgtl5,  rightFront,     sensorQuadEncoder)
#pragma config(Sensor, dgtl7,  leftFront,      sensorQuadEncoder)
#pragma config(Sensor, dgtl9,  arm,            sensorQuadEncoder)
#pragma config(Sensor, dgtl11, downLimit,      sensorTouch)
#pragma config(Sensor, dgtl12, upLimit,        sensorTouch)
#pragma config(Motor,  port1,           intakeLeft,    tmotorVex393, openLoop)
#pragma config(Motor,  port2,           rightBack,     tmotorServoContinuousRotation, openLoop, reversed, encoder, encoderPort, dgtl1, 0)
#pragma config(Motor,  port3,           leftBack,      tmotorServoContinuousRotation, openLoop, reversed, encoder, encoderPort, dgtl3, 1000)
#pragma config(Motor,  port4,           rightFront,    tmotorServoContinuousRotation, openLoop, encoder, encoderPort, dgtl5, 1000)
#pragma config(Motor,  port5,           leftFront,     tmotorServoContinuousRotation, openLoop, encoder, encoderPort, dgtl7, 1000)
#pragma config(Motor,  port6,           leftArm,       tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port7,           rightArm,      tmotorServoContinuousRotation, openLoop, encoder, encoderPort, dgtl9, 1000)
#pragma config(Motor,  port8,           leftArm,       tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port9,           rightArm,      tmotorServoContinuousRotation, openLoop, encoder, encoderPort, dgtl9, 1000)
#pragma config(Motor,  port10,          intakeRight,   tmotorVex393, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

/*----------------------------------------------------------------------------------------------------*\
|*                                - Berthoud Robotics Team 1069A -                                    *|
|*                                        VEX Toss UP 2013                                            *|
|*                                                                                                    *|
|*                                                                                                    *|
|*                                        ROBOT CONFIGURATION                                         *|
|*    NOTES:                                                                                          *|
|*    1)                                                                                              *|
|*    2)                                                                                              *|
|*    3)                                                                                              *|
|*                                                                                                    *|
|*    MOTORS & SENSORS:                                                                               *|
|*    [I/O Port]              [Name]              [Type]              [Description]                   *|
|*    see pragma statements above for motor and sensor configurations                                 *|
|*                                                                                                    *|
\*----------------------------------------------------------------------------------------------------*/

//+++++++++++++++++++++++++++++++++++++++++++++| MAIN |+++++++++++++++++++++++++++++++++++++++++++++++
task main ()
{
  int speedCommandLeft;            // desired speed command for left wheels, from left joystick
  int speedCommandRight;           // desired speed command for right wheels, from right joystick
  int speedCommandThreshold = 10;	 // helps to eliminate 'noise' from a joystick that isn't perfectly at (0,0)


  while(1 == 1)
  {
    speedCommandLeft = vexRT[Ch3];   //
    speedCommandRight = vexRT[Ch2];   //

    if((SensorValue(downLimit) == 1) && (motor[rightArm] > 0))
    {
    	motor[rightArm] = 0;
    	motor[leftArm] = 0;
 		}
 		if((SensorValue(upLimit) == 1) && (motor[rightArm] > 0))
    {
    	motor[rightArm] = 0;
    	motor[leftArm] = 0;
 		}

    if((abs(speedCommandLeft) > speedCommandThreshold) && (abs(speedCommandLeft) > 0))
    {
      motor[leftFront]  = (speedCommandLeft);
      motor[leftBack] = (speedCommandLeft);
    }
    // Backwards and swing turns: (both abs(X) and abs(Y) are above the speedCommandThreshold, and Y is NEGATIVE)
    if((abs(speedCommandRight) > speedCommandThreshold) && (abs(speedCommandRight) > 0))
    {
     	motor[rightFront] = (speedCommandRight);
     	motor[rightBack] = (speedCommandRight);
    }
    // Turning in place: (abs(X) is above the speedCommandThreshold, abs(Y) is below the speedCommandThreshold)
 		if ((abs(speedCommandRight) < speedCommandThreshold))
 		{
 			motor[rightFront] = 0;
 			motor[rightBack] = 0;
 		}
 			if ((abs(speedCommandLeft) < speedCommandThreshold))
 		{
 			motor[leftFront] = 0;
 			motor[leftBack] = 0;
 		}
    // Standing still: (both abs(X) and abs(Y) are below the speedCommandThreshold)
    //else
    //{
     // motor[leftMotor]  = 0;
     // motor[rightMotor] = 0;
    //}
  }
}
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
